version: '3'
services:
  front:
    container_name: front
    image: hassanhatem/aptfront:latest
    restart: always
  api:
    container_name: api
    image: hassanhatem/aptback:latest
    restart: on-failure
  nginx:
    container_name: nginx
    depends_on: # wait for the backend and frontend to start
    - front
    - api
    image: hassanhatem/aptnginx:latest
    ports:
          - 80:80
          # - 443:443
    restart: always